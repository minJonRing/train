"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[804],{3804:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var r=t(2791),i=t(8530),a=t(1889),s=t(7066),c=t(8907),l=t(7689),o=t(7621),u=t(9504),d=t(3044),x=t(890),m=t(2363),h=t(6151),f=t(184),p=(0,c.Pi)((function(){var e=(0,l.s0)(),n=(0,s.Yh)().user.userInfo;return(0,f.jsxs)(o.Z,{variant:"outlined",sx:{height:"235px"},children:[(0,f.jsxs)(u.Z,{children:[(0,f.jsx)(d.Z,{alt:"Remy Sharp",src:n.avatar,sx:{width:"80px",height:"80px",m:"0 auto"}}),(0,f.jsx)(x.Z,{variant:"h6",sx:{textAlign:"center",p:"6px 0"},children:n.nick}),(0,f.jsx)(x.Z,{sx:{textAlign:"center",color:"#666"},children:n.organizationName})]}),(0,f.jsxs)(m.Z,{sx:{display:"flex",justifyContent:"center"},children:[(0,f.jsx)(h.Z,{variant:"contained",onClick:function(){return e("/train")},children:"\u6211\u7684\u8bfe\u7a0b"}),(0,f.jsx)(h.Z,{variant:"contained",onClick:function(){return e("/exam")},children:"\u6211\u7684\u8003\u8bd5"}),(0,f.jsx)(h.Z,{disabled:!0,variant:"contained",children:"\u5f00\u7968\u7ba1\u7406"})]})]})})),j=t(1953),v=t(7507),y=function(){var e,n,t=(0,v._i)().data,r=(0,l.s0)();return(0,f.jsxs)(o.Z,{variant:"outlined",sx:{height:"235px"},children:[(0,f.jsxs)(u.Z,{children:[(0,f.jsx)(j.Z,{style:{display:"block",m:"0 aut",fontSize:"50px"}}),(0,f.jsxs)(x.Z,{variant:"h6",sx:{textAlign:"center",pt:4},children:["\u62a5\u540d\u8bfe\u7a0b\uff1a",(0,f.jsx)("span",{style:{color:"#1976d2",fontSize:"30px"},children:(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.signCourseCount)||0})]})]}),(0,f.jsx)(m.Z,{sx:{display:"flex",justifyContent:"center",mt:"18px"},children:(0,f.jsx)(h.Z,{variant:"contained",disabled:!+(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.signCourseCount),onClick:function(){return r("/train")},children:"\u8be6\u60c5"})})]})},g=t(62),Z=function(){var e=(0,v.OU)().data,n=(0,l.s0)();return(0,f.jsxs)(o.Z,{variant:"outlined",sx:{height:"235px"},children:[(0,f.jsxs)(u.Z,{children:[(0,f.jsx)(g.Z,{style:{display:"block",m:"0 aut",fontSize:"50px"}}),(0,f.jsxs)(x.Z,{variant:"h6",sx:{textAlign:"center",pt:4},children:["\u62a5\u540d\u8003\u8bd5\uff1a",(0,f.jsx)("span",{style:{color:"#1976d2",fontSize:"30px"},children:(null===e||void 0===e?void 0:e.data)||0})," "]})]}),(0,f.jsx)(m.Z,{sx:{display:"flex",justifyContent:"center",mt:"18px"},children:(0,f.jsx)(h.Z,{variant:"contained",disabled:!+(null===e||void 0===e?void 0:e.data),onClick:function(){return n("/exam")},children:"\u8be6\u60c5"})})]})},N=t(9439),b=t(9966),q=function(){var e=(0,r.useState)("\u60a8\u6700\u8fd1\u6682\u65e0\u53ef\u53c2\u4e0e\u7684\u8003\u8bd5"),n=(0,N.Z)(e,2),t=n[0],i=n[1],a=(0,v.gl)().data;return(0,r.useEffect)((function(){if(a){var e=a.examSection,n=e.startTime,t=e.url;i("\u60a8\u6700\u8fd1\u5c06\u4f1a\u53c2\u52a0\u4e00\u573a\u3010".concat(t,"\u3011\u7684\u8003\u8bd5\uff0c\u4e8e\u3010").concat(n,"\u3011\u5f00\u59cb,\u8bf7\u63d0\u524d\u51c6\u5907!"))}}),[a]),(0,f.jsx)(o.Z,{variant:"outlined",sx:{display:"flex",backgroundColor:"#f9f9f9"},children:(0,f.jsxs)(u.Z,{sx:{display:"flex"},children:[(0,f.jsx)(b.Z,{style:{fontSize:"24px"}}),(0,f.jsx)(x.Z,{sx:{display:"inline-block",pl:1},children:t})]})})},S=t(1413),k=t(9585),C=t(4395),P=t(5083),K=t(3896),F=t(7047),D=t(9973),E=t(4973),T=t(9599),U=function(e){var n=e.historyTrain;return(0,f.jsx)("div",{className:"page",children:(0,f.jsx)("div",{className:"layout",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"col",children:[(0,f.jsx)("span",{className:"title",children:"\u804c\u4e1a\u536b\u751f\u6280\u672f\u670d\u52a1\u673a\u6784"}),(0,f.jsx)("span",{className:"title",children:"\u4e13\u4e1a\u6280\u672f\u4eba\u5458"}),(0,f.jsx)("span",{className:"title sub-title",children:"\u57f9\u8bad\u5408\u683c\u8bc1"}),(0,f.jsx)("div",{className:"photo",children:(0,f.jsx)("img",{alt:"\u7167\u7247",className:"photo-img",src:n.photo})}),(0,f.jsxs)("div",{className:"form",children:[(0,f.jsxs)("div",{className:"form-item",children:[(0,f.jsx)("div",{className:"form-item-title",children:"\u57f9\u8bad\u7c7b\u522b\uff1a"}),(0,f.jsx)("div",{className:"form-item-text",children:n.courseType||""})]}),(0,f.jsxs)("div",{className:"form-item",children:[(0,f.jsx)("div",{className:"form-item-title",children:"\u59d3 \u540d\uff1a"}),(0,f.jsx)("div",{className:"form-item-text",children:n.name||""})]}),(0,f.jsxs)("div",{className:"form-item",children:[(0,f.jsx)("div",{className:"form-item-title",children:"\u8eab\u4efd\u8bc1\u53f7\uff1a"}),(0,f.jsx)("div",{className:"form-item-text",children:n.idCard||""})]}),(0,f.jsxs)("div",{className:"form-item",children:[(0,f.jsx)("div",{className:"form-item-title",children:"\u5de5\u4f5c\u5355\u4f4d\uff1a"}),(0,f.jsx)("div",{className:"form-item-text",children:n.orgName||""})]}),(0,f.jsxs)("div",{className:"form-item",children:[(0,f.jsx)("div",{className:"form-item-title",children:"\u8bc1\u4e66\u7f16\u53f7\uff1a"}),(0,f.jsx)("div",{className:"form-item-text",children:n.certificateNo||""})]}),(0,f.jsxs)("div",{className:"form-item",children:[(0,f.jsx)("div",{className:"form-item-title",children:"\u53d1\u8bc1\u65e5\u671f\uff1a"}),(0,f.jsx)("div",{className:"form-item-text",children:n.issueDate||""})]})]})]}),(0,f.jsxs)("div",{className:"col",children:[(0,f.jsx)("div",{className:"sign-table-title",children:"\u57f9\u8bad\u8bb0\u5f55"}),(0,f.jsxs)("table",{className:"sign-table",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"score time-line",colSpan:"2",children:"\u5e8f\u53f7"}),(0,f.jsx)("th",{className:"score time-line",colSpan:"6",children:"\u57f9\u8bad\u65f6\u95f4"}),(0,f.jsx)("th",{className:"score time-line",colSpan:"3",children:"\u5b66\u65f6"}),(0,f.jsx)("th",{className:"score time-line",colSpan:"3",children:"\u6210\u7ee9"}),(0,f.jsx)("th",{className:"score time-line",colSpan:"3",children:"\u5907\u6ce8"})]})}),(0,f.jsx)("tbody",{children:(n.dateList||[]).map((function(e){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"score time-line",colSpan:"2",children:e.no}),(0,f.jsx)("th",{className:"score time-line",colSpan:"6",children:e.time}),(0,f.jsx)("th",{className:"score time-line",colSpan:"3",children:e.credit}),(0,f.jsx)("th",{className:"score time-line",colSpan:"3",children:e.score}),(0,f.jsx)("th",{className:"score time-line",colSpan:"3"})]},e.no)}))})]}),(0,f.jsxs)("div",{style:{outline:"3px dashed #333",display:"inline-block",margin:"20px",padding:"5px 10px"},children:[(0,f.jsx)("p",{children:"\u9075\u5b88\u6cd5\u5f8b\u6cd5\u89c4 \u8bda\u4fe1\u516c\u6b63\u6267\u4e1a"}),(0,f.jsx)("p",{children:"\u670d\u52a1\u6267\u4e1a\u5065\u5eb7 \u627f\u62c5\u6cd5\u5f8b\u8d23\u4efb"})]})]})]})})})},I=(0,c.Pi)((function(){var e=(0,r.useState)(!1),n=(0,N.Z)(e,2),t=n[0],a=n[1],c=(0,r.useState)({}),l=(0,N.Z)(c,2),d=l[0],m=l[1],h=(0,r.useState)(""),p=(0,N.Z)(h,2),j=p[0],v=p[1],y=(0,r.useState)(0),g=(0,N.Z)(y,2),Z=g[0],b=g[1],q=(0,s.Yh)().zd,I=q.courseType,z=q.changeCourseType,A=function(e){a(!0),(0,T.Ju)({courseType:e}).then((function(e){var n=e.data,t=n?n[0]:{};m(t)})).catch((function(e){m({}),v(e)})).finally((function(){a(!1)}))};return(0,r.useEffect)((function(){(0,E.hj)({url:"/dictCourseType",method:"get"}).then((function(e){var n,t=e.data;z(t.map((function(e){return{value:e.id,label:e.name}}))),A(null===(n=t[0])||void 0===n?void 0:n.id)}))}),[]),(0,f.jsxs)(o.Z,{variant:"outlined",children:[(0,f.jsx)(k.Z,{avatar:(0,f.jsx)(D.Z,{style:{fontSize:"24px"}}),title:"\u6211\u7684\u8bc1\u4e66"}),(0,f.jsxs)(u.Z,{children:[(0,f.jsx)(C.Z,{position:"static",color:"default",children:(0,f.jsx)(P.Z,{value:Z,onChange:function(e,n){return A((t=n)+1),void b(t);var t},variant:"fullWidth","aria-label":"action tabs example",children:I.map((function(e,n){return(0,r.createElement)(K.Z,(0,S.Z)((0,S.Z)({label:e.label},{id:"simple-tab-".concat(t=n),"aria-controls":"simple-tabpanel-".concat(t)}),{},{key:e.value}));var t}))})}),(0,f.jsx)(i.Z,{sx:{padding:"1rem 0"},children:t?(0,f.jsxs)(i.Z,{flex:!0,children:[(0,f.jsx)(F.Z,{height:60}),(0,f.jsx)(F.Z,{height:60}),(0,f.jsx)(F.Z,{}),(0,f.jsx)(F.Z,{}),(0,f.jsx)(F.Z,{})]}):Object.keys(d).length?(0,f.jsx)(U,{historyTrain:d}):(0,f.jsx)(x.Z,{component:"div",role:"tabpanel",sx:{textAlign:"center"},children:j})})]})]})})),z=I,A=function(){return(0,f.jsx)(i.Z,{sx:{p:1,backgroundColor:"#f5f5f5"},children:(0,f.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,f.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,children:(0,f.jsx)(p,{})}),(0,f.jsx)(a.ZP,{item:!0,xs:6,sm:6,md:3,children:(0,f.jsx)(y,{})}),(0,f.jsx)(a.ZP,{item:!0,xs:6,sm:6,md:3,children:(0,f.jsx)(Z,{})}),(0,f.jsx)(a.ZP,{item:!0,xs:12,sm:12,children:(0,f.jsx)(q,{})}),(0,f.jsx)(a.ZP,{item:!0,xs:12,sm:12,children:(0,f.jsx)(z,{})})]})})}},4973:function(e,n,t){t.d(n,{hj:function(){return d},$A:function(){return x}});var r=t(9439),i=t(1413),a=t(1912),s=t(7066),c=t(4254),l=a.Z.create({baseURL:"/learning/api",timeout:6e9});l.interceptors.request.use((function(e){return s.h.user.token&&(e.headers.token=s.h.user.token),e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){var n,t,r=e.data,i=r.size,a=r.msg,s=r.status;return i||[200].includes(s)||(null===c.N||void 0===c.N||null===(n=c.N.current)||void 0===n||n.open({message:a||"\u7f51\u7edc\u6ce2\u52a8,\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458!",type:"error"}),[401].includes(s)&&(console.log(c.N),null===c.N||void 0===c.N||null===(t=c.N.current)||void 0===t||t.logout())),r}),(function(e){return Promise.reject(e)}));var o=l,u=t(2791),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,i.Z)({method:"get",responseType:"json"},e),t=n.method,r=n.data;return["get","delete"].includes(t)&&(n.params=r),o(n)},x=function(e){var n=(0,u.useState)(""),t=(0,r.Z)(n,2),i=t[0],a=t[1],s=(0,u.useState)(!0),c=(0,r.Z)(s,2),l=c[0],o=c[1],x=(0,u.useState)(!1),m=(0,r.Z)(x,2),h=m[0],f=m[1];return l&&d(e).then((function(e){a(e)})).catch((function(e){a(e),f(!0)})).finally((function(){o(!1)})),{data:i,isLoading:l,isCatch:h}}},9599:function(e,n,t){t.d(n,{Ju:function(){return i}});var r=t(4973),i=function(e){return(0,r.hj)({url:"exam/personnel/paper/mock/getCertificateInfo",method:"get",data:e})};n.ZP={adminUrl:function(e){return(0,r.hj)({url:"/config/adminUrl",method:"get",data:e})},userInfo:function(e){return(0,r.hj)({url:"/user/me",method:"get",data:e})},userBase:function(e){return(0,r.hj)({url:"/user/detail",method:"get",data:e})},nextExam:function(e){return(0,r.hj)({url:"/examStatistic/nextSchedule",method:"get",data:e})},signTrain:function(e){return(0,r.hj)({url:"/learnStatistic/personnelCourse",method:"get"})},signExam:function(e){return(0,r.hj)({url:"/examStatistic/examScheduleCount",method:"get"})},getCertificateInfo:i,train:function(e){return(0,r.hj)({url:"/courseSign/personnel",method:"get",data:e})},trainDetail:function(e){return(0,r.hj)({url:"/courseSign/personnel/".concat(e.id),method:"get"})},trainDetailVideo:function(e){return(0,r.hj)({url:"/video/personnel/".concat(e.id,"/").concat(e.videoId),method:"get"})},trainDetailVideoUrl:function(e){return(0,r.hj)({url:"/video/playInfo/".concat(e.vid),method:"get"})},exam:function(e){return(0,r.hj)({url:"/examSign/personnel",method:"get"})},getExamPaper:function(e){return(0,r.hj)({url:"/exam/personnel/paper/mock/list/".concat(e.id),method:"get"})},getExamPaperDetail:function(e){return(0,r.hj)({url:"/exam/personnel/paper/mock/".concat(e.id),method:"get"})},getExamPaperAnswerDetail:function(e){return(0,r.hj)({url:"/exam/personnel/paper/mock/answer/".concat(e.id),method:"get"})}}},7507:function(e,n,t){t.d(n,{U0:function(){return j},TG:function(){return y},lY:function(){return v},gl:function(){return d},OU:function(){return m},_i:function(){return x},_g:function(){return h},nG:function(){return f},ZR:function(){return p},KV:function(){return u}});var r=t(1413),i=t(5987),a=t(3433),s=t(4489),c=t(9599),l=["queryFn","variables"];function o(e){var n=function(n){var t=e.queryKey;return[].concat((0,a.Z)("function"===typeof t?t():t),(0,a.Z)(n?[JSON.parse(JSON.stringify(n))]:[]))},t=function(t){var a=(0,r.Z)((0,r.Z)({},e),t),o=a.queryFn,u=a.variables,d=(0,i.Z)(a,l),x=c.ZP;return(0,s.a)((0,r.Z)({queryKey:n(u),queryFn:function(e){return o((0,r.Z)((0,r.Z)({},e),{},{apis:x,variables:u}))}},d))};return t.select=function(n){return function(i){var a=(0,r.Z)((0,r.Z)((0,r.Z)({},e),i),{},{select:n});return t(a)}},t.getKey=n,t}o({queryKey:["adminUrl"],queryFn:function(e){return e.apis.adminUrl()}}),o({queryKey:["userInfo"],queryFn:function(e){return e.apis.userInfo()}});var u=o({queryKey:["userBase"],queryFn:function(e){return e.apis.userBase()}}).select((function(e){return e.data})),d=o({queryKey:["nextExam"],queryFn:function(e){return e.apis.nextExam()}}).select((function(e){return e.data})),x=o({queryKey:["signTrain"],queryFn:function(e){return e.apis.signTrain()}}),m=o({queryKey:["signExam"],queryFn:function(e){return e.apis.signExam()}}),h=(o({queryKey:["certificateInfo"],queryFn:function(e){var n=e.apis,t=e.variables;return n.getCertificateInfo(t)}}),o({queryKey:["train"],queryFn:function(e){return e.apis.train()}})),f=o({queryKey:["trainDetail"],queryFn:function(e){var n=e.apis,t=e.variables;return n.trainDetail(t)}}),p=o({queryKey:["trainDetailVideo"],queryFn:function(e){var n=e.apis,t=e.variables;return n.trainDetailVideo(t)}}),j=(o({queryKey:["trainDetailVideoUrl"],queryFn:function(e){var n=e.apis,t=e.variables;return n.trainDetailVideoUrl(t)}}).select((function(e){var n=e.data,t=n.code,r=n.playInfo.playInfoList[0].playURL;return"".concat(r,"?MtsHlsUriToken=").concat(t)})),o({queryKey:["exam"],queryFn:function(e){return e.apis.exam()}})),v=(o({queryKey:["examPaper"],queryFn:function(e){var n=e.apis,t=e.variables;return n.getExamPaper(t)}}),o({queryKey:["examPaperDetail"],queryFn:function(e){var n=e.apis,t=e.variables;return n.getExamPaperDetail(t)}})),y=o({queryKey:["examPaperDetail"],queryFn:function(e){var n=e.apis,t=e.variables;return n.getExamPaperAnswerDetail(t)}})}}]);
//# sourceMappingURL=804.5d44c083.chunk.js.map