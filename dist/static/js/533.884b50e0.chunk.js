"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[533],{9533:function(e,t,n){n.r(t),n.d(t,{default:function(){return ge}});var r=n(9439),a=n(2791),i=n(8530),o=n(1889),s=n(3967),c=n(5193),l=n(7689),d=n(7507),u=n(7621),p=n(2169),f=n(9504),m=n(890),v=n(184),h=function(e){var t=e.course.courseResponse,n=void 0===t?{}:t,r=n.thumbnail,a=n.title,i=n.description,o=n.startTime,s=n.endTime,c=n.completeCreditList;return(0,v.jsxs)(u.Z,{variant:"outlined",children:[(0,v.jsx)(p.Z,{title:"\u5c01\u9762",children:(0,v.jsx)("img",{src:r,style:{display:"block",width:"100%"}})}),(0,v.jsxs)(f.Z,{children:[(0,v.jsx)(m.Z,{gutterBottom:!0,variant:"h5",component:"div",sx:{fontSize:"26px"},children:a||"\u672a\u77e5\u8bfe\u7a0b\u540d\u79f0"}),(0,v.jsxs)(m.Z,{variant:"h6",color:"text.secondary",sx:{pb:1,fontSize:"18px"},children:["\u63cf\u8ff0\uff1a",i||"\u672a\u77e5\u8bfe\u7a0b\u63cf\u8ff0"]}),(0,v.jsxs)(m.Z,{variant:"body2",color:"text.secondary",sx:{pb:1},children:["\u8bfe\u7a0b\u65f6\u95f4\uff1a",o+" \u81f3 "+s]}),(0,v.jsx)(m.Z,{gutterBottom:!0,variant:"h6",component:"div",children:"\u7ed3\u4e1a\u6240\u9700\u5b66\u65f6"}),null===c||void 0===c?void 0:c.map((function(e,t){return(0,v.jsx)(m.Z,{variant:"body2",color:"text.secondary",sx:{pb:1},children:"".concat(e.courseTypeName,"-").concat(e.levelName,"\uff1a\u7ebf\u4e0a\u3010 ").concat(e.credit," \u3011\u5c0f\u65f6,\u7ebf\u4e0b\u3010 ").concat(e.offlineCredit," \u3011\u5c0f\u65f6")},t)}))]})]})},x=n(1918),g=function(e){var t=e.course.courseTypeList,n=void 0===t?[]:t;return(0,v.jsx)(i.Z,{children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,v.jsx)(u.Z,{variant:"outlined",sx:{mt:1},children:(0,v.jsxs)(f.Z,{children:[(0,v.jsxs)(m.Z,{gutterBottom:!0,variant:"h6",component:"div",color:"primary",sx:{mb:1},children:[e.courseTypeName+" - "+e.levelName," - \u5df2\u83b7\u5f97\u5b66\u65f6"]}),(0,v.jsxs)(m.Z,{variant:"body2",sx:{lineHeight:1,mb:2},children:["\u7ebf\u4e0a\u3010",(0,v.jsx)("span",{style:{display:"inline-block",padding:"0 6px",color:"#2e7d32",fontWeight:"blod",fontSize:"20px"},children:e.onlineCredit}),"\u3011\u5c0f\u65f6, \u7ebf\u4e0b\u3010",(0,v.jsx)("span",{style:{display:"inline-block",padding:"0 6px",color:"#2e7d32",fontWeight:"blod",fontSize:"20px"},children:e.offlineCredit}),"\u3011\u5c0f\u65f6"]}),(0,v.jsx)(x.Z,{label:e.isComplete?"\u5df2\u5b8c\u6210":"\u672a\u5b8c\u6210",color:e.isComplete?"success":"default",size:"small"})]})},t)}))})},Z=n(9585),y=n(493),b=n(4942),j=n(3366),C=n(7462),S=n(8182),N=n(9961),w=n(627),I=n(48),P=n(6934),M=n(1402),k=n(3701),q=n(8502),F=n(162),L=n(419),O=n(6199),R=n(8137),T=n(6246);function A(e){return(0,T.Z)("MuiListItem",e)}var z=(0,R.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function D(e){return(0,T.Z)("MuiListItemButton",e)}var G=(0,R.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function V(e){return(0,T.Z)("MuiListItemSecondaryAction",e)}(0,R.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);var H=["className"],U=(0,P.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.ownerState;return(0,C.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),B=a.forwardRef((function(e,t){var n=(0,M.Z)({props:e,name:"MuiListItemSecondaryAction"}),r=n.className,i=(0,j.Z)(n,H),o=a.useContext(O.Z),s=(0,C.Z)({},n,{disableGutters:o.disableGutters}),c=function(e){var t=e.disableGutters,n=e.classes,r={root:["root",t&&"disableGutters"]};return(0,N.Z)(r,V,n)}(s);return(0,v.jsx)(U,(0,C.Z)({className:(0,S.Z)(c.root,r),ownerState:s,ref:t},i))}));B.muiName="ListItemSecondaryAction";var K=B,E=["className"],Y=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],J=(0,P.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,C.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!r.disablePadding&&(0,C.Z)({paddingTop:8,paddingBottom:8},r.dense&&{paddingTop:4,paddingBottom:4},!r.disableGutters&&{paddingLeft:16,paddingRight:16},!!r.secondaryAction&&{paddingRight:48}),!!r.secondaryAction&&(0,b.Z)({},"& > .".concat(G.root),{paddingRight:48}),(t={},(0,b.Z)(t,"&.".concat(z.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,b.Z)(t,"&.".concat(z.selected),(0,b.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,I.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(z.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,I.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,b.Z)(t,"&.".concat(z.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),"flex-start"===r.alignItems&&{alignItems:"flex-start"},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},r.button&&(0,b.Z)({transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(z.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,I.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,I.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),r.hasSecondaryAction&&{paddingRight:48})})),W=(0,P.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),_=a.forwardRef((function(e,t){var n=(0,M.Z)({props:e,name:"MuiListItem"}),r=n.alignItems,i=void 0===r?"center":r,o=n.autoFocus,s=void 0!==o&&o,c=n.button,l=void 0!==c&&c,d=n.children,u=n.className,p=n.component,f=n.components,m=void 0===f?{}:f,h=n.componentsProps,x=void 0===h?{}:h,g=n.ContainerComponent,Z=void 0===g?"li":g,y=n.ContainerProps,b=(void 0===y?{}:y).className,I=n.dense,P=void 0!==I&&I,R=n.disabled,T=void 0!==R&&R,D=n.disableGutters,G=void 0!==D&&D,V=n.disablePadding,H=void 0!==V&&V,U=n.divider,B=void 0!==U&&U,_=n.focusVisibleClassName,Q=n.secondaryAction,$=n.selected,X=void 0!==$&&$,ee=n.slotProps,te=void 0===ee?{}:ee,ne=n.slots,re=void 0===ne?{}:ne,ae=(0,j.Z)(n.ContainerProps,E),ie=(0,j.Z)(n,Y),oe=a.useContext(O.Z),se=a.useMemo((function(){return{dense:P||oe.dense||!1,alignItems:i,disableGutters:G}}),[i,oe.dense,P,G]),ce=a.useRef(null);(0,F.Z)((function(){s&&ce.current&&ce.current.focus()}),[s]);var le=a.Children.toArray(d),de=le.length&&(0,q.Z)(le[le.length-1],["ListItemSecondaryAction"]),ue=(0,C.Z)({},n,{alignItems:i,autoFocus:s,button:l,dense:se.dense,disabled:T,disableGutters:G,disablePadding:H,divider:B,hasSecondaryAction:de,selected:X}),pe=function(e){var t=e.alignItems,n=e.button,r=e.classes,a=e.dense,i=e.disabled,o={root:["root",a&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",i&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]};return(0,N.Z)(o,A,r)}(ue),fe=(0,L.Z)(ce,t),me=re.root||m.Root||J,ve=te.root||x.root||{},he=(0,C.Z)({className:(0,S.Z)(pe.root,ve.className,u),disabled:T},ie),xe=p||"li";return l&&(he.component=p||"div",he.focusVisibleClassName=(0,S.Z)(z.focusVisible,_),xe=k.Z),de?(xe=he.component||p?xe:"div","li"===Z&&("li"===xe?xe="div":"li"===he.component&&(he.component="div")),(0,v.jsx)(O.Z.Provider,{value:se,children:(0,v.jsxs)(W,(0,C.Z)({as:Z,className:(0,S.Z)(pe.container,b),ref:fe,ownerState:ue},ae,{children:[(0,v.jsx)(me,(0,C.Z)({},ve,!(0,w.Z)(me)&&{as:xe,ownerState:(0,C.Z)({},ue,ve.ownerState)},he,{children:le})),le.pop()]}))})):(0,v.jsx)(O.Z.Provider,{value:se,children:(0,v.jsxs)(me,(0,C.Z)({},ve,{as:xe,ref:fe},!(0,w.Z)(me)&&{ownerState:(0,C.Z)({},ue,ve.ownerState)},he,{children:[le,Q&&(0,v.jsx)(K,{children:Q})]}))})})),Q=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],$=(0,P.ZP)(k.Z,{shouldForwardProp:function(e){return(0,P.FO)(e)||"classes"===e},name:"MuiListItemButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,C.Z)((t={display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,b.Z)(t,"&.".concat(G.selected),(0,b.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,I.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(G.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,I.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,b.Z)(t,"&.".concat(G.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,I.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,I.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,b.Z)(t,"&.".concat(G.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,b.Z)(t,"&.".concat(G.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},"flex-start"===r.alignItems&&{alignItems:"flex-start"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.dense&&{paddingTop:4,paddingBottom:4})})),X=a.forwardRef((function(e,t){var n=(0,M.Z)({props:e,name:"MuiListItemButton"}),r=n.alignItems,i=void 0===r?"center":r,o=n.autoFocus,s=void 0!==o&&o,c=n.component,l=void 0===c?"div":c,d=n.children,u=n.dense,p=void 0!==u&&u,f=n.disableGutters,m=void 0!==f&&f,h=n.divider,x=void 0!==h&&h,g=n.focusVisibleClassName,Z=n.selected,y=void 0!==Z&&Z,b=n.className,w=(0,j.Z)(n,Q),I=a.useContext(O.Z),P=a.useMemo((function(){return{dense:p||I.dense||!1,alignItems:i,disableGutters:m}}),[i,I.dense,p,m]),k=a.useRef(null);(0,F.Z)((function(){s&&k.current&&k.current.focus()}),[s]);var q=(0,C.Z)({},n,{alignItems:i,dense:P.dense,disableGutters:m,divider:x,selected:y}),R=function(e){var t=e.alignItems,n=e.classes,r=e.dense,a=e.disabled,i={root:["root",r&&"dense",!e.disableGutters&&"gutters",e.divider&&"divider",a&&"disabled","flex-start"===t&&"alignItemsFlexStart",e.selected&&"selected"]},o=(0,N.Z)(i,D,n);return(0,C.Z)({},n,o)}(q),T=(0,L.Z)(k,t);return(0,v.jsx)(O.Z.Provider,{value:P,children:(0,v.jsx)($,(0,C.Z)({ref:T,href:w.href||w.to,component:(w.href||w.to)&&"div"===l?"a":l,focusVisibleClassName:(0,S.Z)(R.focusVisible,g),ownerState:q,className:(0,S.Z)(R.root,b)},w,{classes:R,children:d}))})})),ee=n(4721),te=n(4254),ne=n(7892),re=n.n(ne),ae=n(1953),ie=function(e){var t=e.course,n=(0,l.s0)(),r=t.courseId,a=t.courseResponse,o=void 0===a?{resourceList:[]}:a,s=o.resourceList,c=o.startTime,d=o.endTime,p=o.timeout;t.state;console.log(t);var h=re()(Date()).isBetween(re()(c,"YYYY-MM-DD HH:mm:ss"),re()(d,"YYYY-MM-DD HH:mm:ss"));return h||(null===te.N||void 0===te.N||te.N.current.open({message:"\u8be5\u8bfe\u7a0b\u5df2\u7ed3\u675f",type:"error"}),n(-1)),(0,v.jsxs)(u.Z,{variant:"outlined",sx:{mt:1},children:[(0,v.jsx)(Z.Z,{avatar:(0,v.jsx)(ae.Z,{}),title:"\u5b66\u4e60\u8d44\u6599"}),(0,v.jsx)(f.Z,{sx:{borderTop:"1px #dfdfdf solid",p:0},children:(0,v.jsx)(y.Z,{children:null===s||void 0===s?void 0:s.map((function(e,t){var a;return(0,v.jsxs)(i.Z,{children:[(0,v.jsx)(_,{children:(0,v.jsx)(X,{disabled:!h,onClick:function(){return n("/train/".concat(r,"/").concat(e.id,"?timeout=").concat(p))},children:(0,v.jsxs)(i.Z,{sx:{width:"100%"},children:[(0,v.jsx)(m.Z,{component:"div",children:t+1+"\uff1a"+e.title}),(0,v.jsxs)(i.Z,{sx:{mt:1,display:"flex"},component:"div",children:[(0,v.jsx)(x.Z,{variant:"outlined",color:e.isComplete?"success":e.watchTime?"primary":"default",label:e.isComplete?"\u5df2\u5b8c\u6210":e.watchTime?"\u5df2\u5b66\u4e60:".concat(e.rate):"\u672a\u5f00\u59cb",size:"small"}),(0,v.jsx)(i.Z,{sx:{flexGrow:1}}),(0,v.jsx)(x.Z,{variant:"outlined",color:"primary",label:null===(a=e.courseTypeList)||void 0===a?void 0:a.map((function(e){return["\u672a\u77e5\u8bfe\u7a0b\u7c7b\u578b","\u68c0\u6d4b","\u8bc4\u4ef7","\u901a\u7528"][e.code]})).join(),size:"small"}),(0,v.jsx)(x.Z,{color:"error",label:e.credit+"\u5b66\u65f6",size:"small",sx:{ml:1}})]})]})})}),(0,v.jsx)(ee.Z,{})]},t)}))})})]})},oe=n(6151),se=n(4973),ce=n(3502),le=n(1428),de=n(4165),ue=n(3433),pe=n(5861),fe=n(9596),me=n(2419),ve=n(1329),he=function(e){var t=e.width,n=void 0===t?160:t,r=e.height,a=void 0===r?160:r,o=e.id,s=e.list,c=e.setList,l=e.uploadUrl,d=e.deleteUrl,u=e.add,p=void 0!==u&&u,f=e.read,h=function(e){var t=e.file,n=t.size,r=t.type;if(n/1024/1024>2)te.N.current.open({message:"\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u5927\u4e8e2MB",type:"error"});else{if(!!/(image)/.test(r))return!0;te.N.current.open({message:"\u8bf7\u4e0a\u4f20\u56fe\u7247\u6587\u4ef6",type:"error"})}},x=function(){var e=(0,pe.Z)((0,de.Z)().mark((function e(t){var n,r,a,i;return(0,de.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=n.name,ce.Z.current.open(),e.next=5,new Promise((function(e){p?e({status:200}):(0,se.hj)({url:"".concat(d,"/").concat(o),method:"delete"}).then((function(t){e(t)}))}));case 5:if(a=e.sent,200===a.status){e.next=11;break}return te.N.current.open({message:"\u4e2a\u4eba\u7167\u7247\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\uff01",type:"error"}),ce.Z.current.close(),e.abrupt("return");case 11:(i=new FormData).append("file",n),i.append("fileName",p?r:"\u4e2a\u4eba\u7167\u7247"),(0,se.hj)({url:"".concat(l,"/").concat(o),method:"post",data:i}).then((function(e){if(200===e.status){var t=new FileReader;t.readAsDataURL(n),t.onload=function(e){var t=e.currentTarget.result;if(p){var n=s.length-1;s[n]={certificate:t,certificateName:r},c((0,ue.Z)(s))}else c([{certificate:t,certificateName:"\u4e2a\u4eba\u7167\u7247"}])},te.N.current.open({message:"\u6587\u4ef6\u4e0a\u4f20\u6210\u529f\uff01"})}})).finally((function(){ce.Z.current.close()}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsxs)(i.Z,{className:"t-upload-list",children:[null===s||void 0===s?void 0:s.map((function(e,t){return(0,v.jsxs)(i.Z,{sx:{width:n,margin:"6px"},children:[(0,v.jsx)(i.Z,{className:"t-upload",sx:{width:"100%",height:a},children:(0,v.jsxs)(i.Z,{className:"t-upload-item",children:[e.certificate?(0,v.jsx)("img",{className:"t-photo",src:e.certificate}):(0,v.jsx)(fe.Z,{sx:{fontSize:40}}),f?null:(0,v.jsx)("input",{type:"file",onChange:function(t){return function(e,t){var n=e.target.files,r=n[0];r&&(!h||h({file:r,files:n}))&&x&&x({file:r,files:n,param:t})}(t,e)}}),p&&e.certificate?(0,v.jsx)(oe.Z,{className:"t-btn-delete",variant:"contained",color:"error",startIcon:(0,v.jsx)(ve.Z,{}),onClick:function(n){return function(e,t){var n=e.id;n?(ce.Z.current.open(),(0,se.hj)({url:"".concat(d,"/").concat(n),method:"delete"}).then((function(e){var n=e.status,r=e.msg;if(200===n){var a=JSON.parse(JSON.stringify(s));a.splice(t,1),c(a),te.N.current.open({message:r||"\u5220\u9664\u6210\u529f"})}})).finally((function(){ce.Z.current.close()}))):te.N.current.open({message:"\u8bf7\u5237\u65b0\u9875\u9762\u5728\u5220\u9664\u6587\u4ef6",type:"warning"})}(e,t)},children:"\u5220\u9664"}):null]})}),(0,v.jsx)(m.Z,{variant:"subtitle1",align:"center",sx:{p:"6px 0"},children:e.certificateName})]},e.certificate)})),!s.length&&f?(0,v.jsx)(m.Z,{variant:"subtitle1",align:"center",children:"\u65e0\u4e0a\u4f20\u6587\u4ef6"}):null,p&&!f?(0,v.jsx)(i.Z,{sx:{width:n,margin:"6px"},children:(0,v.jsx)(i.Z,{className:"t-upload",sx:{width:"100%",height:a},children:(0,v.jsx)(i.Z,{className:"t-upload-item",children:(0,v.jsxs)(i.Z,{sx:{textAlign:"center"},onClick:function(){if(s.length-1>0&&!s[s.length-1].certificate)return void te.N.current.open({message:"\u8bf7\u5148\u5b8c\u6210\u524d\u4e00\u4e2a\u6587\u4ef6\u7684\u4e0a\u4f20",type:"warning"});c([].concat((0,ue.Z)(s),[{certificate:"",certificateName:""}]))},children:[(0,v.jsx)(me.Z,{sx:{fontSize:40}}),(0,v.jsx)(m.Z,{variant:"subtitle1",align:"center",sx:{lineHeight:2},children:"\u6dfb\u52a0\u5176\u4ed6\u8d44\u6599"})]})})})}):null]})},xe=function(e){var t=e.course,n=t.id,o=t.photo,s=t.certificateList,c=t.certificateApproveNote,l=t.state,d=(0,a.useState)([]),p=(0,r.Z)(d,2),h=p[0],g=p[1],Z=(0,a.useState)([]),y=(0,r.Z)(Z,2),b=y[0],j=y[1],C=(0,a.useState)(1),S=(0,r.Z)(C,2),N=S[0],w=S[1];(0,a.useEffect)((function(){g([{certificate:o,certificateName:"\u4e2a\u4eba\u7167\u7247"}]),j(s),w(l)}),[t]);return(0,v.jsx)(u.Z,{variant:"outlined",children:(0,v.jsxs)(f.Z,{children:[(0,v.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,v.jsx)(m.Z,{variant:"h6",component:"span",children:"\u62a5\u540d\u72b6\u6001"}),(0,v.jsx)(x.Z,{label:{1:"\u5f85\u4e0a\u4f20\u8d44\u6599",2:"\u62a5\u540d\u8d44\u6599\u5f85\u5ba1\u6838",3:"\u5f85\u7f34\u8d39",4:"\u7f34\u8d39\u5f85\u5ba1\u6838",5:"\u62a5\u540d\u5b8c\u6210"}[N],color:5!==N?"warning":"info",icon:5===N?(0,v.jsx)(le.Z,{}):null,sx:{ml:2}})]}),c?(0,v.jsx)(i.Z,{sx:{pt:2},children:(0,v.jsxs)(m.Z,{variant:"h6",component:"span",color:"error",sx:{fontSize:"18px"},children:["\u4e0d\u901a\u8fc7\u539f\u56e0\uff1a",c]})}):null,(0,v.jsxs)(i.Z,{children:[(0,v.jsxs)(i.Z,{sx:{margin:"16px 0",p:"16px 0",borderTop:"1px #dfdfdf solid"},children:[(0,v.jsx)(m.Z,{variant:"h6",align:"center",sx:{lineHeight:2},children:"\u4e2a\u4eba\u7167\u7247\u4e0a\u4f20"}),(0,v.jsx)(he,{id:n,list:h,uploadUrl:"/courseSign/personnel/uploadPhoto",deleteUrl:"/courseSign/personnel/deletePhoto",setList:g,read:1!==N})]}),(0,v.jsxs)(i.Z,{sx:{margin:"16px 0",p:"16px 0",borderTop:"1px #dfdfdf solid"},children:[(0,v.jsx)(m.Z,{variant:"h6",align:"center",sx:{lineHeight:2},children:"\u5176\u4ed6\u8d44\u6599\u4e0a\u4f20"}),(0,v.jsx)(he,{id:n,list:b,uploadUrl:"/courseSign/personnel/uploadCertificate",deleteUrl:"/courseSign/personnel/deleteCertificate",setList:j,add:!0,read:1!==N})]}),1===N?(0,v.jsx)(oe.Z,{variant:"contained",size:"medium",fullWidth:!0,onClick:function(){ce.Z.current.open(),(0,se.hj)({url:"/courseSign/personnel/submitCertificate/".concat(n),method:"post"}).then((function(e){var t=e.status;e.msg;200===t&&(te.N.current.open({message:"\u8d44\u6599\u63d0\u4ea4\u5ba1\u6838\u6210\u529f"}),w(2))})).finally((function(){ce.Z.current.close()}))},children:"\u63d0\u4ea4\u5ba1\u6838"}):null]})]})})},ge=function(){var e=(0,l.s0)(),t=(0,l.UO)().id,n=(0,d.nG)({variables:{id:t},cacheTime:0}),u=n.data,p=(n.isLoading,(0,a.useState)({})),f=(0,r.Z)(p,2),m=f[0],x=f[1];(0,a.useEffect)((function(){if(u){var t=u.status,n=u.msg;if(200!==t)return e(-1),void te.N.current.open({message:n,type:"error"});var r=(u||{}).data;x(r)}else e(-1)}),[u]);var Z=(0,s.Z)(),y=(0,c.Z)(Z.breakpoints.down("sm"));return(0,v.jsx)(i.Z,{sx:{p:1},children:Object.keys(m).length?(0,v.jsxs)(o.ZP,{container:!0,spacing:1,children:[(0,v.jsx)(o.ZP,{item:!0,xs:12,sm:12,md:7,children:(0,v.jsxs)(i.Z,{sx:{height:y?"auto":"calc(100vh - 82px)",overflow:y?"none":"auto"},children:[(0,v.jsx)(h,{course:m}),(0,v.jsx)(g,{course:m}),(0,v.jsx)(ie,{course:m})]})}),(0,v.jsx)(o.ZP,{item:!0,xs:12,sm:12,md:5,children:(0,v.jsx)(xe,{course:m})})]}):null})}},4973:function(e,t,n){n.d(t,{hj:function(){return u},$A:function(){return p}});var r=n(9439),a=n(1413),i=n(1912),o=n(7066),s=n(4254),c=i.Z.create({baseURL:"/learning/api",timeout:6e9});c.interceptors.request.use((function(e){return o.h.user.token&&(e.headers.token=o.h.user.token),e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((function(e){var t,n,r=e.data,a=r.size,i=r.msg,o=r.status;return a||[200].includes(o)||(null===s.N||void 0===s.N||null===(t=s.N.current)||void 0===t||t.open({message:i||"\u7f51\u7edc\u6ce2\u52a8,\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458!",type:"error"}),[401].includes(o)&&(console.log(s.N),null===s.N||void 0===s.N||null===(n=s.N.current)||void 0===n||n.logout())),r}),(function(e){return Promise.reject(e)}));var l=c,d=n(2791),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,a.Z)({method:"get",responseType:"json"},e),n=t.method,r=t.data;return["get","delete"].includes(n)&&(t.params=r),l(t)},p=function(e){var t=(0,d.useState)(""),n=(0,r.Z)(t,2),a=n[0],i=n[1],o=(0,d.useState)(!0),s=(0,r.Z)(o,2),c=s[0],l=s[1],p=(0,d.useState)(!1),f=(0,r.Z)(p,2),m=f[0],v=f[1];return c&&u(e).then((function(e){i(e)})).catch((function(e){i(e),v(!0)})).finally((function(){l(!1)})),{data:a,isLoading:c,isCatch:m}}},9599:function(e,t,n){n.d(t,{Ju:function(){return a}});var r=n(4973),a=function(e){return(0,r.hj)({url:"exam/personnel/paper/mock/getCertificateInfo",method:"get",data:e})};t.ZP={adminUrl:function(e){return(0,r.hj)({url:"/config/adminUrl",method:"get",data:e})},userInfo:function(e){return(0,r.hj)({url:"/user/me",method:"get",data:e})},userBase:function(e){return(0,r.hj)({url:"/user/detail",method:"get",data:e})},nextExam:function(e){return(0,r.hj)({url:"/examStatistic/nextSchedule",method:"get",data:e})},signTrain:function(e){return(0,r.hj)({url:"/learnStatistic/personnelCourse",method:"get"})},signExam:function(e){return(0,r.hj)({url:"/examStatistic/examScheduleCount",method:"get"})},getCertificateInfo:a,train:function(e){return(0,r.hj)({url:"/courseSign/personnel",method:"get",data:e})},trainDetail:function(e){return(0,r.hj)({url:"/courseSign/personnel/".concat(e.id),method:"get"})},trainDetailVideo:function(e){return(0,r.hj)({url:"/video/personnel/".concat(e.id,"/").concat(e.videoId),method:"get"})},trainDetailVideoUrl:function(e){return(0,r.hj)({url:"/video/playInfo/".concat(e.vid),method:"get"})},exam:function(e){return(0,r.hj)({url:"/examSign/personnel",method:"get"})},getExamPaper:function(e){return(0,r.hj)({url:"/exam/personnel/paper/mock/list/".concat(e.id),method:"get"})},getExamPaperDetail:function(e){return(0,r.hj)({url:"/exam/personnel/paper/mock/".concat(e.id),method:"get"})},getExamPaperAnswerDetail:function(e){return(0,r.hj)({url:"/exam/personnel/paper/mock/answer/".concat(e.id),method:"get"})}}},7507:function(e,t,n){n.d(t,{U0:function(){return x},TG:function(){return Z},lY:function(){return g},gl:function(){return u},OU:function(){return f},_i:function(){return p},_g:function(){return m},nG:function(){return v},ZR:function(){return h},KV:function(){return d}});var r=n(1413),a=n(5987),i=n(3433),o=n(4489),s=n(9599),c=["queryFn","variables"];function l(e){var t=function(t){var n=e.queryKey;return[].concat((0,i.Z)("function"===typeof n?n():n),(0,i.Z)(t?[JSON.parse(JSON.stringify(t))]:[]))},n=function(n){var i=(0,r.Z)((0,r.Z)({},e),n),l=i.queryFn,d=i.variables,u=(0,a.Z)(i,c),p=s.ZP;return(0,o.a)((0,r.Z)({queryKey:t(d),queryFn:function(e){return l((0,r.Z)((0,r.Z)({},e),{},{apis:p,variables:d}))}},u))};return n.select=function(t){return function(a){var i=(0,r.Z)((0,r.Z)((0,r.Z)({},e),a),{},{select:t});return n(i)}},n.getKey=t,n}l({queryKey:["adminUrl"],queryFn:function(e){return e.apis.adminUrl()}}),l({queryKey:["userInfo"],queryFn:function(e){return e.apis.userInfo()}});var d=l({queryKey:["userBase"],queryFn:function(e){return e.apis.userBase()}}).select((function(e){return e.data})),u=l({queryKey:["nextExam"],queryFn:function(e){return e.apis.nextExam()}}).select((function(e){return e.data})),p=l({queryKey:["signTrain"],queryFn:function(e){return e.apis.signTrain()}}),f=l({queryKey:["signExam"],queryFn:function(e){return e.apis.signExam()}}),m=(l({queryKey:["certificateInfo"],queryFn:function(e){var t=e.apis,n=e.variables;return t.getCertificateInfo(n)}}),l({queryKey:["train"],queryFn:function(e){return e.apis.train()}})),v=l({queryKey:["trainDetail"],queryFn:function(e){var t=e.apis,n=e.variables;return t.trainDetail(n)}}),h=l({queryKey:["trainDetailVideo"],queryFn:function(e){var t=e.apis,n=e.variables;return t.trainDetailVideo(n)}}),x=(l({queryKey:["trainDetailVideoUrl"],queryFn:function(e){var t=e.apis,n=e.variables;return t.trainDetailVideoUrl(n)}}).select((function(e){var t=e.data,n=t.code,r=t.playInfo.playInfoList[0].playURL;return"".concat(r,"?MtsHlsUriToken=").concat(n)})),l({queryKey:["exam"],queryFn:function(e){return e.apis.exam()}})),g=(l({queryKey:["examPaper"],queryFn:function(e){var t=e.apis,n=e.variables;return t.getExamPaper(n)}}),l({queryKey:["examPaperDetail"],queryFn:function(e){var t=e.apis,n=e.variables;return t.getExamPaperDetail(n)}})),Z=l({queryKey:["examPaperDetail"],queryFn:function(e){var t=e.apis,n=e.variables;return t.getExamPaperAnswerDetail(n)}})},1953:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),a=n(2791),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"},o=n(3746),s=function(e,t){return a.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};s.displayName="BookOutlined";var c=a.forwardRef(s)},2419:function(e,t,n){var r=n(4836);t.Z=void 0;var a=r(n(5649)),i=n(184),o=(0,a.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=o},9596:function(e,t,n){var r=n(4836);t.Z=void 0;var a=r(n(5649)),i=n(184),o=(0,a.default)((0,i.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");t.Z=o},1329:function(e,t,n){var r=n(4836);t.Z=void 0;var a=r(n(5649)),i=n(184),o=(0,a.default)((0,i.jsx)("path",{d:"M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zM14 5h-3l-1-1H6L5 5H2v2h12z"}),"DeleteSweep");t.Z=o},1428:function(e,t,n){var r=n(4836);t.Z=void 0;var a=r(n(5649)),i=n(184),o=(0,a.default)((0,i.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done");t.Z=o},9585:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(4942),a=n(3366),i=n(7462),o=n(2791),s=n(8182),c=n(9961),l=n(890),d=n(1402),u=n(6934),p=n(8137),f=n(6246);function m(e){return(0,f.Z)("MuiCardHeader",e)}var v=(0,p.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),h=n(184),x=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],g=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,t){var n;return(0,i.Z)((n={},(0,r.Z)(n,"& .".concat(v.title),t.title),(0,r.Z)(n,"& .".concat(v.subheader),t.subheader),n),t.root)}})({display:"flex",alignItems:"center",padding:16}),Z=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,t){return t.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),y=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,t){return t.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),b=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,t){return t.content}})({flex:"1 1 auto"}),j=o.forwardRef((function(e,t){var n=(0,d.Z)({props:e,name:"MuiCardHeader"}),r=n.action,o=n.avatar,u=n.className,p=n.component,f=void 0===p?"div":p,v=n.disableTypography,j=void 0!==v&&v,C=n.subheader,S=n.subheaderTypographyProps,N=n.title,w=n.titleTypographyProps,I=(0,a.Z)(n,x),P=(0,i.Z)({},n,{component:f,disableTypography:j}),M=function(e){var t=e.classes;return(0,c.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},m,t)}(P),k=N;null==k||k.type===l.Z||j||(k=(0,h.jsx)(l.Z,(0,i.Z)({variant:o?"body2":"h5",className:M.title,component:"span",display:"block"},w,{children:k})));var q=C;return null==q||q.type===l.Z||j||(q=(0,h.jsx)(l.Z,(0,i.Z)({variant:o?"body2":"body1",className:M.subheader,color:"text.secondary",component:"span",display:"block"},S,{children:q}))),(0,h.jsxs)(g,(0,i.Z)({className:(0,s.Z)(M.root,u),as:f,ref:t,ownerState:P},I,{children:[o&&(0,h.jsx)(Z,{className:M.avatar,ownerState:P,children:o}),(0,h.jsxs)(b,{className:M.content,ownerState:P,children:[k,q]}),r&&(0,h.jsx)(y,{className:M.action,ownerState:P,children:r})]}))}))},5193:function(e,t,n){var r;n.d(t,{Z:function(){return p}});var a=n(9439),i=n(2791),o=n(885),s=n(5096),c=n(162);function l(e,t,n,r,o){var s="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,l=i.useState((function(){return o&&s?n(e).matches:r?r(e).matches:t})),d=(0,a.Z)(l,2),u=d[0],p=d[1];return(0,c.Z)((function(){var t=!0;if(s){var r=n(e),a=function(){t&&p(r.matches)};return a(),r.addListener(a),function(){t=!1,r.removeListener(a)}}}),[e,n,s]),u}var d=(r||(r=n.t(i,2))).useSyncExternalStore;function u(e,t,n,r){var o=i.useCallback((function(){return t}),[t]),s=i.useMemo((function(){if(null!==r){var t=r(e).matches;return function(){return t}}return o}),[o,e,r]),c=i.useMemo((function(){if(null===n)return[o,function(){return function(){}}];var t=n(e);return[function(){return t.matches},function(e){return t.addListener(e),function(){t.removeListener(e)}}]}),[o,n,e]),l=(0,a.Z)(c,2),u=l[0],p=l[1];return d(p,u,s)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.Z)(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,a=(0,s.Z)({name:"MuiUseMediaQuery",props:t,theme:n}),i=a.defaultMatches,c=void 0!==i&&i,p=a.matchMedia,f=void 0===p?r?window.matchMedia:null:p,m=a.ssrMatchMedia,v=void 0===m?null:m,h=a.noSsr;var x="function"===typeof e?e(n):e;return x=x.replace(/^@media( ?)/m,""),(void 0!==d?u:l)(x,c,f,v,h)}}}]);
//# sourceMappingURL=533.884b50e0.chunk.js.map