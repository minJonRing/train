"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[298],{4973:function(e,n,r){r.d(n,{hj:function(){return d},$A:function(){return f}});var t=r(9439),a=r(1413),i=r(1912),u=r(7066),o=r(4254),c=i.Z.create({baseURL:"/learning/api",timeout:6e9});c.interceptors.request.use((function(e){return u.h.user.token&&(e.headers.token=u.h.user.token),e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((function(e){var n,r,t=e.data,a=t.size,i=t.msg,u=t.status;return a||[200].includes(u)||(null===o.N||void 0===o.N||null===(n=o.N.current)||void 0===n||n.open({message:i||"\u7f51\u7edc\u6ce2\u52a8,\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458!",type:"error"}),[401].includes(u)&&(console.log(o.N),null===o.N||void 0===o.N||null===(r=o.N.current)||void 0===r||r.logout())),t}),(function(e){return Promise.reject(e)}));var s=c,l=r(2791),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,a.Z)({method:"get",responseType:"json"},e),r=n.method,t=n.data;return["get","delete"].includes(r)&&(n.params=t),s(n)},f=function(e){var n=(0,l.useState)(""),r=(0,t.Z)(n,2),a=r[0],i=r[1],u=(0,l.useState)(!0),o=(0,t.Z)(u,2),c=o[0],s=o[1],f=(0,l.useState)(!1),p=(0,t.Z)(f,2),m=p[0],h=p[1];return c&&d(e).then((function(e){i(e)})).catch((function(e){i(e),h(!0)})).finally((function(){s(!1)})),{data:a,isLoading:c,isCatch:m}}},9599:function(e,n,r){r.d(n,{Ju:function(){return a}});var t=r(4973),a=function(e){return(0,t.hj)({url:"exam/personnel/paper/mock/getCertificateInfo",method:"get",data:e})};n.ZP={adminUrl:function(e){return(0,t.hj)({url:"/config/adminUrl",method:"get",data:e})},userInfo:function(e){return(0,t.hj)({url:"/user/me",method:"get",data:e})},userBase:function(e){return(0,t.hj)({url:"/user/detail",method:"get",data:e})},nextExam:function(e){return(0,t.hj)({url:"/examStatistic/nextSchedule",method:"get",data:e})},signTrain:function(e){return(0,t.hj)({url:"/learnStatistic/personnelCourse",method:"get"})},signExam:function(e){return(0,t.hj)({url:"/examStatistic/examScheduleCount",method:"get"})},getCertificateInfo:a,train:function(e){return(0,t.hj)({url:"/courseSign/personnel",method:"get",data:e})},trainDetail:function(e){return(0,t.hj)({url:"/courseSign/personnel/".concat(e.id),method:"get"})},trainDetailVideo:function(e){return(0,t.hj)({url:"/video/personnel/".concat(e.id,"/").concat(e.videoId),method:"get"})},trainDetailVideoUrl:function(e){return(0,t.hj)({url:"/video/playInfo/".concat(e.vid),method:"get"})},exam:function(e){return(0,t.hj)({url:"/examSign/personnel",method:"get"})},getExamPaper:function(e){return(0,t.hj)({url:"/exam/personnel/paper/mock/list/".concat(e.id),method:"get"})},getExamPaperDetail:function(e){return(0,t.hj)({url:"/exam/personnel/paper/mock/".concat(e.id),method:"get"})},getExamPaperAnswerDetail:function(e){return(0,t.hj)({url:"/exam/personnel/paper/mock/answer/".concat(e.id),method:"get"})}}},7507:function(e,n,r){r.d(n,{U0:function(){return g},TG:function(){return v},lY:function(){return y},gl:function(){return d},OU:function(){return p},_i:function(){return f},_g:function(){return m},nG:function(){return h},ZR:function(){return x},KV:function(){return l}});var t=r(1413),a=r(5987),i=r(3433),u=r(4489),o=r(9599),c=["queryFn","variables"];function s(e){var n=function(n){var r=e.queryKey;return[].concat((0,i.Z)("function"===typeof r?r():r),(0,i.Z)(n?[JSON.parse(JSON.stringify(n))]:[]))},r=function(r){var i=(0,t.Z)((0,t.Z)({},e),r),s=i.queryFn,l=i.variables,d=(0,a.Z)(i,c),f=o.ZP;return(0,u.a)((0,t.Z)({queryKey:n(l),queryFn:function(e){return s((0,t.Z)((0,t.Z)({},e),{},{apis:f,variables:l}))}},d))};return r.select=function(n){return function(a){var i=(0,t.Z)((0,t.Z)((0,t.Z)({},e),a),{},{select:n});return r(i)}},r.getKey=n,r}s({queryKey:["adminUrl"],queryFn:function(e){return e.apis.adminUrl()}}),s({queryKey:["userInfo"],queryFn:function(e){return e.apis.userInfo()}});var l=s({queryKey:["userBase"],queryFn:function(e){return e.apis.userBase()}}).select((function(e){return e.data})),d=s({queryKey:["nextExam"],queryFn:function(e){return e.apis.nextExam()}}).select((function(e){return e.data})),f=s({queryKey:["signTrain"],queryFn:function(e){return e.apis.signTrain()}}),p=s({queryKey:["signExam"],queryFn:function(e){return e.apis.signExam()}}),m=(s({queryKey:["certificateInfo"],queryFn:function(e){var n=e.apis,r=e.variables;return n.getCertificateInfo(r)}}),s({queryKey:["train"],queryFn:function(e){return e.apis.train()}})),h=s({queryKey:["trainDetail"],queryFn:function(e){var n=e.apis,r=e.variables;return n.trainDetail(r)}}),x=s({queryKey:["trainDetailVideo"],queryFn:function(e){var n=e.apis,r=e.variables;return n.trainDetailVideo(r)}}),g=(s({queryKey:["trainDetailVideoUrl"],queryFn:function(e){var n=e.apis,r=e.variables;return n.trainDetailVideoUrl(r)}}).select((function(e){var n=e.data,r=n.code,t=n.playInfo.playInfoList[0].playURL;return"".concat(t,"?MtsHlsUriToken=").concat(r)})),s({queryKey:["exam"],queryFn:function(e){return e.apis.exam()}})),y=(s({queryKey:["examPaper"],queryFn:function(e){var n=e.apis,r=e.variables;return n.getExamPaper(r)}}),s({queryKey:["examPaperDetail"],queryFn:function(e){var n=e.apis,r=e.variables;return n.getExamPaperDetail(r)}})),v=s({queryKey:["examPaperDetail"],queryFn:function(e){var n=e.apis,r=e.variables;return n.getExamPaperAnswerDetail(r)}})},6443:function(e,n,r){r.d(n,{m:function(){return a},y:function(){return t}});var t={required:"\u8bf7\u8f93\u5165"},a={required:"\u8bf7\u9009\u62e9"}},298:function(e,n,r){r.r(n),r.d(n,{default:function(){return V}});var t=r(2791),a=r(9439),i=r(7066),u=r(8530),o=r(5193),c=r(3412),s=(r(7507),r(890)),l=r(533),d={defaultPath:"/dashboard/default",fontFamily:"'Public Sans', sans-serif",i18n:"en",miniDrawer:!1,container:!0,mode:"light",presetColor:"default",themeDirection:"ltr",title:"\u57f9\u8bad\u8003\u8bd5\u7cfb\u7edf"},f=r(184);var p=function(e){var n=e.url;return(0,f.jsx)(u.Z,{sx:{width:"450px",height:"500px",backgroundColor:"#fff"},children:(0,f.jsxs)(u.Z,{sx:{position:"relative",width:"100%",height:"100%",transform:"translate(-20px, -20px)",padding:"40px",backgroundImage:"linear-gradient(90deg,#606c88,#3f4c6b)"},children:[(0,f.jsx)(s.Z,{variant:"h5",align:"center",sx:{color:"#fff"},children:d.title}),(0,f.jsx)(l.Z,{href:n,underline:"hover",sx:{position:"absolute",bottom:"40px",textAlign:"center",width:"calc(100% - 80px)",color:"#fff",border:"1px #fff solid",padding:"6px"},children:"\u5207\u6362\u81f3\u5355\u4f4d\u7aef"})]})})},m=r(1413),h=r(7689),x=r(8907),g=r(6151),y=r(1889),v=r(2734),j=r(2709),Z=r(1134),q=r(6443),b=r(4973),k=r(1391),w=r.n(k),C=r(2037),F=r(3502),S=r(4254);function K(e){return(0,f.jsxs)(s.Z,(0,m.Z)((0,m.Z)({variant:"body2",color:"text.secondary"},e),{},{children:["\u5efa\u8bae\u60a8\u4f7f\u7528\u706b\u72d0\u3001\u8c37\u6b4c\u3001Edge\u6d4f\u89c8\u5668\u8bbf\u95ee\u672c\u7f51\u7ad9,\u6700\u5c0f\u5206\u8fa8\u73871024*768",(0,f.jsx)("br",{}),"\u6280\u672f\u652f\u6301\u670d\u52a1\u7535\u8bdd\uff1a400-001-2788"]}))}var E=(0,x.Pi)((function(){var e=(0,h.s0)(),n=(0,i.Yh)().user,t=n.changeToken,a=n.changeUserInfo,o=(0,Z.cI)({defaultValues:{username:"321085198006060019",password:"123456"},mode:"all"});return(0,f.jsx)(u.Z,{component:"div",children:(0,f.jsxs)(j.Yb,{formContext:o,onSuccess:function(n){return function(n){F.Z.current.open(),(0,b.hj)({url:"/login/password",method:"post",data:(0,m.Z)((0,m.Z)({},n),{},{password:w()(n.password),terminal:"personnel"})}).then((function(n){var i,u=n.data,o=u.token,c=u.user;(0,C.o4)(o),t(o),(0,C.ps)(JSON.stringify(c)),a(c),null===(i=r.g.$notice.current)||void 0===i||i.open({message:"\u767b\u5f55\u6210\u529f",type:"success"}),setTimeout((function(){e("/")}),100)})).catch((function(e){var n,r=e.code;null===(n=S.N.current)||void 0===n||n.open({message:{ERR_NETWORK:"\u7f51\u7edc\u53d1\u751f\u4e86\u70b9\u5c0f\u95ee\u9898\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6b63\u5e38\uff01"}[r],type:"error"})})).finally((function(){F.Z.current.close()}))}(n)},children:[(0,f.jsx)(s.Z,{variant:"h5",color:"text.secondary",children:"\u767b\u5f55"}),(0,f.jsx)(j.SF,{name:"username",label:"\u7528\u6237\u540d",required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"username",placeholder:"\u7528\u6237\u540d",sx:{mt:2,mb:1},validation:q.y,onInput:function(e){return e.target.value=e.target.value.replace(/\s/g,"")}}),(0,f.jsx)(j.OZ,{name:"password",label:"\u5bc6\u7801",required:!0,fullWidth:!0,autoComplete:"password",placeholder:"\u5bc6\u7801",sx:{mt:2,mb:1},validation:q.y,onInput:function(e){return e.target.value=e.target.value.replace(/\s/g,"")}}),(0,f.jsx)(g.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"\u767b\u5f55"})]})})}));function I(){var e=(0,t.useState)(!1),n=(0,a.Z)(e,2),r=n[0],i=n[1];return(0,f.jsxs)(v.Z,{component:"main",sx:{width:"450px",m:0,height:"500px",backgroundColor:"#fff"},children:[(0,f.jsxs)(u.Z,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[r?null:(0,f.jsx)(E,{}),(0,f.jsx)(y.ZP,{container:!0,children:(0,f.jsx)(y.ZP,{item:!0,xs:!0,children:(0,f.jsx)(g.Z,{variant:"text",onClick:function(){return i(!r)},children:r?"\u6709\u8d26\u53f7?\u53bb\u767b\u5f55!":"\u5fd8\u8bb0\u5bc6\u7801"})})})]}),(0,f.jsx)(K,{sx:{mt:2}})]})}var P=r(6531),D=function(e){var n=e.strict,r=void 0===n||n,a=e.name,i=t.createContext(),u="useContext: 'context' is undefined. Seems you forgot to wrap component within the ".concat(a);return i.displayName=a,[i.Provider,function e(){var n=t.useContext(i);if(!n&&r){var a,o=new Error(u);throw o.name="ContextError",null===(a=Error.captureStackTrace)||void 0===a||a.call(Error,o,e),o}return n},i]},N=D({strict:!0,name:"input"}),U=(0,a.Z)(N,2),T=(U[0],U[1],function(e){e.url;var n=(0,i.Yh)().user.token,r=(0,o.Z)("(max-width:1000px)"),s=(0,t.useState)({name:"\u6d82\u4e54\u8363"}),l=(0,a.Z)(s,2);l[0],l[1];return n?(0,f.jsx)(P.Z,{to:"/"}):(0,f.jsx)(c.wT,{children:(0,f.jsxs)(u.Z,{sx:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#70e1f5",backgroundImage:"linear-gradient(90deg, #70e1f5, #ffd194)",backgroundsize:"cover"},children:[r?null:(0,f.jsx)(p,{url:{}.data}),(0,f.jsx)(I,{})]})})}),V=function(){return(0,f.jsx)(T,{})}}}]);
//# sourceMappingURL=298.68301b77.chunk.js.map